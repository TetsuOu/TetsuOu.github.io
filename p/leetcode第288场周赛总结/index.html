<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="1352/6926"><title>LeetCode第288场周赛总结</title>
<link rel=canonical href=https://tetsuou.github.io/p/leetcode%E7%AC%AC288%E5%9C%BA%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/><link rel=stylesheet href=/scss/style.min.0304c6baf04e01a8fe70693791cb744d56a3578a3120a8796cefc66825aa39c7.css><meta property='og:title' content="LeetCode第288场周赛总结"><meta property='og:description' content="1352/6926"><meta property='og:url' content='https://tetsuou.github.io/p/leetcode%E7%AC%AC288%E5%9C%BA%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/'><meta property='og:site_name' content='おう てつ の blog'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:published_time' content='2022-04-11T13:00:00+00:00'><meta property='article:modified_time' content='2022-04-11T13:00:00+00:00'><meta property='og:image' content='https://tetsuou.github.io/p/leetcode%E7%AC%AC288%E5%9C%BA%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/post-bg-20220411_2.png'><meta name=twitter:title content="LeetCode第288场周赛总结"><meta name=twitter:description content="1352/6926"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://tetsuou.github.io/p/leetcode%E7%AC%AC288%E5%9C%BA%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/post-bg-20220411_2.png'><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu13739649187745961479.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🍥</span></figure><div class=site-meta><h1 class=site-name><a href=/>おう てつ の blog</a></h1><h2 class=site-description>believe it</h2></div></header><ol class=menu-social><li><a href=https://blog.csdn.net/qq_40889820 target=_blank title=csdn rel=me><!doctype html><svg t="1693758104704" class="icon" viewBox="0 0 1024 1024" p-id="1375" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M512 1024C229.2224 1024 0 794.7776.0 512S229.2224.0 512 0s512 229.2224 512 512-229.2224 512-512 512zm17.066667-413.525333c34.850133 4.352 68.778667 5.12 102.741333 2.0992 23.04-2.048 44.817067-8.362667 64.170667-21.9136 38.212267-26.794667 49.783467-85.1968 24.251733-123.050667-14.626133-21.7088-36.8128-30.344533-60.757333-35.498667-35.054933-7.543467-70.4512-5.751467-105.847467-3.413333-5.666133.3584-6.7584 3.072-7.236267 8.209067-3.072 32.682667-6.536533 65.314133-9.813333 97.962666-2.5088 24.814933-4.932267 49.629867-7.509333 75.605334zm53.4016-33.928534c1.962667-20.906667 3.6352-39.338667 5.4272-57.770666 1.553067-15.906133 3.413333-31.778133 4.727466-47.701334.3584-4.283733 1.553067-6.656 5.956267-6.382933 15.616 1.041067 31.709867.034133 46.728533 3.652267 36.488533 8.823467 48.725333 54.306133 23.3472 83.029333-15.8208 17.902933-36.7616 23.586133-59.255466 25.088-8.465067.546133-17.015467.085333-26.9312.085333zM512 434.295467c-2.184533-.648533-3.5328-1.1776-4.932267-1.4336-37.717333-6.877867-75.690667-8.328533-113.646933-2.816-20.974933 3.037867-41.0112 9.489067-57.480533 23.330133-22.9888 19.319467-21.640533 46.848 4.4032 62.0032 13.056 7.594667 28.023467 12.509867 42.5984 17.288533 14.08 4.608 28.996267 6.826667 43.144533 11.264 12.5952 3.925333 14.011733 14.318933 3.584 22.306134-3.345067 2.56-7.441067 5.085867-11.537067 5.751466-11.195733 1.826133-22.698667 4.386133-33.826133 3.566934-24.098133-1.774933-48.042667-5.461333-72.5504-8.430934-1.365333 10.615467-2.935467 23.0912-4.5568 35.9424 4.181333 1.365333 7.68 2.730667 11.264 3.618134 33.9456 8.4992 68.386133 9.608533 102.912 5.12 20.087467-2.6112 39.4752-7.901867 56.695467-19.029334 28.603733-18.4832 36.693333-57.1904-4.676267-75.383466-14.506667-6.382933-30.190933-10.410667-45.482667-15.086934-11.4176-3.4816-23.313067-5.614933-34.525866-9.5232-9.7792-3.413333-11.144533-12.202667-3.037867-18.397866 4.6592-3.549867 10.717867-6.997333 16.384-7.3728a480.853333 480.853333.0 0153.384533-.853334c15.377067.699733 30.651733 3.549867 46.4896 5.5296L512 434.295467zm257.143467 2.048L750.933333 614.2976h54.152534c4.778667-45.636267 9.710933-90.7264 14.062933-135.8848.6144-6.365867 2.3552-8.840533 8.686933-9.0112 11.434667-.273067 22.8864-1.979733 34.286934-1.570133 23.722667.853333 42.3936 9.728 38.4 43.264-2.901333 24.2688-5.597867 48.571733-8.2432 72.874666-1.092267 10.069333-1.826133 20.189867-2.730667 30.4128h55.330133c3.584-35.259733 7.9872-70.058667 10.496-104.994133 3.413333-47.4624-17.7664-73.3184-64.682666-80.213333-40.96-6.007467-81.339733-.341333-121.5488 7.133866zM285.6448 570.948267c-8.738133 1.297067-16.384 2.798933-24.098133 3.4816-25.6512 2.235733-51.319467 3.9424-76.305067-4.266667-13.909333-4.590933-24.6784-12.578133-29.7984-25.9584-7.901867-20.701867.887467-47.104 19.831467-60.3136C192.648534 471.773867 212.992 467.968 233.728 467.968c22.545067-.017067 45.090133 2.423467 68.232533 3.84L307.2 432.298667c-15.069867-1.723733-29.4912-3.925333-43.997867-4.9152-41.0112-2.798933-80.64 2.6112-117.469866 20.462933-30.020267 14.557867-52.053333 36.010667-58.6752 68.130133-7.850667 38.144 11.537067 69.495467 51.7632 85.845334 19.1488 7.765333 39.287467 12.509867 60.0064 12.5952 24.746667.1024 49.493333-1.570133 74.205866-2.952534 3.106133-.170667 8.311467-2.901333 8.669867-5.034666 1.979733-11.554133 2.730667-23.278933 3.9424-35.464534z" fill="#dd1700" p-id="1376"/></svg></a></li><li><a href=https://github.com/TetsuOu target=_blank title=GitHub rel=me><!doctype html><svg t="1693758540593" class="icon" viewBox="0 0 1024 1024" p-id="1514" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M960 512c0 97.76-28.704 185.216-85.664 263.264-56.96 78.016-130.496 131.84-220.64 161.856-10.304 1.824-18.368.448-22.848-4.032a22.4 22.4.0 01-7.2-17.504v-122.88c0-37.632-10.304-65.44-30.464-82.912a409.856 409.856.0 0059.616-10.368 222.752 222.752.0 0054.72-22.816c18.848-10.784 34.528-23.36 47.104-38.592 12.544-15.232 22.848-35.904 30.912-61.44 8.096-25.568 12.128-54.688 12.128-87.904.0-47.072-15.232-86.976-46.208-120.16 14.368-35.456 13.024-74.912-4.48-118.848-10.752-3.616-26.432-1.344-47.072 6.272s-38.56 16.16-53.824 25.568l-21.984 13.888C587.776 285.088 550.56 280.16 512 280.16s-75.776 4.928-112.096 15.232a444.48 444.48.0 00-24.672-15.68c-10.336-6.272-26.464-13.888-48.896-22.432-21.952-8.96-39.008-11.232-50.24-8.064-17.024 43.936-18.368 83.424-4.032 118.848-30.496 33.632-46.176 73.536-46.176 120.608.0 33.216 4.032 62.336 12.128 87.456 8.032 25.12 18.368 45.76 30.496 61.44 12.544 15.68 28.224 28.704 47.072 39.04 18.848 10.304 37.216 17.92 54.72 22.816a409.6 409.6.0 0059.648 10.368c-15.712 13.856-25.12 34.048-28.704 60.064a99.744 99.744.0 01-26.464 8.512 178.208 178.208.0 01-33.184 2.688c-13.024.0-25.568-4.032-38.144-12.544-12.544-8.512-23.296-20.64-32.256-36.32a97.472 97.472.0 00-28.256-30.496c-11.232-8.064-21.088-12.576-28.704-13.92l-11.648-1.792c-8.096.0-13.92.928-17.056 2.688-3.136 1.792-4.032 4.032-2.688 6.72s3.136 5.408 5.376 8.096 4.928 4.928 7.616 7.168l4.032 2.688c8.544 4.032 17.056 11.232 25.568 21.984 8.544 10.752 14.368 20.64 18.4 29.6l5.824 13.44c4.928 14.816 13.44 26.912 25.568 35.872 12.096 8.992 25.088 14.816 39.008 17.504 13.888 2.688 27.36 4.032 40.352 4.032s23.776-.448 32.288-2.24l13.472-2.24c0 14.784.0 32.288.416 52.032.0 19.744.48 30.496.48 31.392a22.624 22.624.0 01-7.648 17.472c-4.928 4.48-12.992 5.824-23.296 4.032-90.144-30.048-163.68-83.84-220.64-161.888C92.256 697.216 64 609.312 64 512c0-81.152 20.192-156.064 60.096-224.672s94.176-122.88 163.232-163.232C355.936 84.192 430.816 64 512 64s156.064 20.192 224.672 60.096 122.88 94.176 163.232 163.232C939.808 355.488 960 430.848 960 512" fill="#000" p-id="1515"/></svg></a></li><li><a href=https://leetcode.cn/u/wangzhebufangqi-c/ target=_blank title=leetcode rel=me><!doctype html><svg t="1693809783586" class="icon" viewBox="0 0 1024 1024" p-id="4061" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M1023.52385 511.966c0 163.698.0 327.396.477 491.094.0 17.052-3.888 20.94-20.94 20.872q-491.094-.819-982.188.0c-17.051.0-20.94-3.82-20.871-20.872Q.81985 511.966 85e-5 20.872c-.067-17.051 3.82-20.94 20.872-20.871q491.094.818 982.188.0c17.052.0 21.008 3.82 20.94 20.871-.477 163.698-.477 327.396-.477 491.094z" fill="#fefefe" p-id="4062"/><path d="M454.87785 321.736c-61.387 61.386-124.82 121.068-184.774 184.16-44.404 46.722-40.925 113.906 5.593 161.924 55.18 56.68 111.996 111.724 168.063 167.45 21.212 21.963 20.94 47.063 5.388 70.39-14.392 21.485-35.058 34.65-63.092 22.577a132.664 132.664.0 01-35.672-25.578c-51.77-52.315-104.767-103.47-155.99-156.4-89.898-92.83-90.921-232.451-.478-324.668 127.07-129.867 256.05-257.688 384.485-386.054 28.307-28.306 63.843-30.148 87.033-6.002s21.008 55.657-6.411 84.509q-43.176 45.426-86.692 90.443c-30.693 47.609-71.823 84.645-117.453 117.249z" fill="#070706" p-id="4063"/><path d="M677.02885 641.015h-183.614c-40.925.0-70.186-24.76-69.504-58.113.614-32.262 27.966-55.998 68.208-56.135q187.025-.886 374.05.0c39.833.0 62.342 22.031 62.683 56.476.0 35.74-23.055 57.294-64.934 57.704-62.137.545-124.547.068-186.889.068z" fill="#b4b2b1" p-id="4064"/><path d="M386.05585 928.1c60.569-7.366 79.053-37.241 57.704-92.967 63.842 33.49 110.837 26.056 162.47-25.577 26.465-26.465 52.52-53.339 79.598-79.19s57.431-26.464 81.44-2.728 23.532 54.566-1.978 81.44c-34.104 35.195-67.457 70.595-103.47 103.266-76.939 69.777-199.917 75.915-275.764 15.756z" fill="#eaa240" p-id="4065"/><path d="M454.87785 321.736a1295.942 1295.942.0 01117.453-117.249c89.693 27.829 142.349 101.152 202.372 164.926 19.575 20.871 11.663 53.747-10.777 72.777a53.338 53.338.0 01-73.869-2.183 821.627 821.627.0 01-74.414-74.278c-44.13-52.315-96.855-66.502-160.765-43.993z" fill="#eaa340" p-id="4066"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/about/><!doctype html><svg t="1693760098453" class="icon" viewBox="0 0 1024 1024" p-id="4023" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M508.312516 87.573521c-230.610238.0-418.21194 189.43956-418.21194 422.264233.0 232.82365 187.601702 422.262186 418.21194 422.262186 230.593865.0 418.212964-189.438537 418.212964-422.262186.0-232.824673-187.619099-422.264233-418.212964-422.264233zm0 812.359812c-86.142939.0-165.782767-28.653597-230.076072-77.032444 15.063067-5.842055 34.825157-13.008268 53.140291-19.542078 47.39238-17.089214 77.017094-27.961842 88.686878-35.373649 29.516244-18.786878 25.353434-90.351797 23.37436-111.843274l-.596588-6.344498-16.022928-14.137998c-1.415232-12.81691-5.073552-38.324864-12.58155-50.828642-10.101055-16.778128-25.352411-61.420885-30.379914-77.221756l-1.711991-4.869914-3.925403-3.047406c-.378623-.315178-9.565866-7.603165-9.565866-19.415189.0-11.812023 9.188266-19.132756 9.4093-19.290345l8.401344-6.220678-2.229784-10.177803c-.10847-.565888-12.094456-55.858192-12.094456-93.337805.0-98.237395 90.777493-112.940259 144.892995-112.940259 58.732659.0 128.757502 19.602454 128.757502 112.940259.0 38.327934-5.811356 94.53098-5.873778 95.096868l-.754177 9.017374 7.036253 5.497201c.407276.282433 9.582239 7.603165 9.582239 19.415189.0 11.812023-9.174963 19.10001-9.392928 19.289322l-4.178159 3.047406-1.601474 4.932336c-.156566.503467-16.180518 49.638537-30.883381 78.163197-6.503111 12.504802-10.369162 37.386492-11.968589 49.826825l-16.148795 14.262842-.596588 6.344498c-1.981121 21.491477-6.189979 93.056396 23.342638 111.843274 11.93789 7.601118 42.097794 17.089214 90.351797 31.856545 17.908882 5.528923 37.230949 11.434423 52.182476 16.460904C681.163259 868.639606 598.28876 899.933333 508.312516 899.933333zM774.501064 792.112676c-14.513552-5.77861-37.82549-13.006222-70.372767-22.997784-32.702819-9.990538-73.388451-22.491247-82.498946-28.274974-7.351432-4.774747-11.497868-40.401152-9.078773-75.462692l15.739473-13.94971.691755-6.155187c1.541099-14.135952 5.434779-37.323047 9.298783-44.7369 13.44829-26.074865 27.14422-65.754586 31.510668-78.791507 6.661723-6.40999 18.158568-20.48352 18.158568-41.469484.0-18.22099-8.638751-31.228235-15.269775-38.516222 1.636267-17.216103 5.279237-58.873876 5.279237-90.51041.0-92.206028-58.652841-145.110959-160.928203-145.110959-112.534006.0-177.062672 52.90493-177.062672 145.110959.0 31.888268 7.461949 73.420173 11.027148 91.357707-6.51846 7.446599-14.513552 20.138666-14.513552 37.668924.0 20.955264 11.466146 35.027771 18.110473 41.406039 4.681626 14.262842 20.011776 59.690474 32.076556 79.734996 3.485381 5.844102 7.334036 27.205619 8.749268 43.479257l.549515 6.407943 15.929808 14.07353c2.387373 35.06154-1.744737 70.625524-9.081843 75.462692-9.503445 6.033413-49.8872 20.545942-82.33931 32.234145-32.642444 11.749602-56.032154 20.231787-70.310346 26.578332-78.493725-71.503521-127.894855-174.924985-127.894855-289.813618.0-215.107149 173.180248-390.094556 386.04124-390.094556 212.875319.0 386.042263 174.987407 386.042263 390.094556C894.354779 620.767216 848.297814 720.985732 774.501064 792.112676z" p-id="4024"/></svg>
<span>About</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#贪心按奇偶性交换后的最大数字>【贪心】按奇偶性交换后的最大数字</a><ol><li><a href=#题目>题目</a></li><li><a href=#解题思路>解题思路</a></li><li><a href=#代码>代码</a></li><li><a href=#偷学代码>偷学代码</a><ol><li><a href=#atoi和stoi函数的区别>atoi和stoi函数的区别</a></li></ol></li></ol></li><li><a href=#暴力向表达式添加括号后的最小结果>【暴力】向表达式添加括号后的最小结果</a><ol><li><a href=#题目-1>题目</a></li><li><a href=#解题思路-1>解题思路</a></li><li><a href=#代码-1>代码</a></li><li><a href=#偷学代码-1>偷学代码</a></li></ol></li><li><a href=#贪心k-次增加后的最大乘积>【贪心】K 次增加后的最大乘积</a><ol><li><a href=#题目-2>题目</a></li><li><a href=#解题思路-2>解题思路</a></li><li><a href=#代码-2>代码</a></li></ol></li><li><a href=#枚举二分花园的最大总美丽值>【枚举+二分】花园的最大总美丽值</a><ol><li><a href=#题目-3>题目</a></li><li><a href=#解题思路-3>解题思路</a><ol><li><a href=#最大化最小值>最大化最小值</a></li><li><a href=#注意数据范围>注意数据范围！</a></li></ol></li><li><a href=#代码-3>代码</a></li><li><a href=#偷学代码-2>偷学代码</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/leetcode%E7%AC%AC288%E5%9C%BA%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/><img src=/p/leetcode%E7%AC%AC288%E5%9C%BA%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/post-bg-20220411_2_hu3801199481167333456.png srcset="/p/leetcode%E7%AC%AC288%E5%9C%BA%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/post-bg-20220411_2_hu3801199481167333456.png 800w, /p/leetcode%E7%AC%AC288%E5%9C%BA%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/post-bg-20220411_2_hu10734798120549758303.png 1600w" width=800 height=450 loading=lazy alt="Featured image of post LeetCode第288场周赛总结"></a></div><div class=article-details><header class=article-category><a href=/categories/leetcode-contest/ style=background-color:#2a9d8f;color:#fff>leetcode contest</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/leetcode%E7%AC%AC288%E5%9C%BA%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/>LeetCode第288场周赛总结</a></h2><h3 class=article-subtitle>1352/6926</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Apr 11, 2022</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>10 minute read</time></div></footer></div></header><section class=article-content><p><img src=https://raw.githubusercontent.com/zezezeking/picturebed/main/image-20220410221308514.png loading=lazy alt=image-20220410221308514></p><h2 id=贪心按奇偶性交换后的最大数字>【贪心】按奇偶性交换后的最大数字</h2><h3 id=题目>题目</h3><p>给你一个正整数 <code>num</code> 。你可以交换 <code>num</code> 中 <strong>奇偶性</strong> 相同的任意两位数字（即，都是奇数或者偶数）。</p><p>返回交换 <strong>任意</strong> 次之后 <code>num</code> 的 <strong>最大</strong> 可能值*。*</p><p><strong>示例 1：</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>输入：num = 1234
</span></span><span class=line><span class=cl>输出：3412
</span></span><span class=line><span class=cl>解释：交换数字 3 和数字 1 ，结果得到 3214 。
</span></span><span class=line><span class=cl>交换数字 2 和数字 4 ，结果得到 3412 。
</span></span><span class=line><span class=cl>注意，可能存在其他交换序列，但是可以证明 3412 是最大可能值。
</span></span><span class=line><span class=cl>注意，不能交换数字 4 和数字 1 ，因为它们奇偶性不同。
</span></span></code></pre></td></tr></table></div></div><p><strong>示例 2：</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>输入：num = 65875
</span></span><span class=line><span class=cl>输出：87655
</span></span><span class=line><span class=cl>解释：交换数字 8 和数字 6 ，结果得到 85675 。
</span></span><span class=line><span class=cl>交换数字 5 和数字 7 ，结果得到 87655 。
</span></span><span class=line><span class=cl>注意，可能存在其他交换序列，但是可以证明 87655 是最大可能值。
</span></span></code></pre></td></tr></table></div></div><p><strong>提示：</strong></p><ul><li><code>1 &lt;= num &lt;= 10^9</code></li></ul><h3 id=解题思路>解题思路</h3><p>贪心。奇偶性相同的位置从大到小排序。</p><p>打比赛的时候写的太繁琐了。</p><h3 id=代码>代码</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>largestInteger</span><span class=p>(</span><span class=kt>int</span> <span class=n>num</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>nums</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span><span class=p>(</span><span class=n>num</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>nums</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>num</span><span class=o>%</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=n>num</span><span class=o>/=</span><span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>reverse</span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=n>nums</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>len</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>iseven</span><span class=p>(</span><span class=n>len</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>even</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>len</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>%</span><span class=mi>2</span><span class=o>==</span><span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>iseven</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=n>even</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>sort</span><span class=p>(</span><span class=n>even</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=n>even</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>len</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>iseven</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>=</span><span class=n>even</span><span class=p>.</span><span class=n>back</span><span class=p>(),</span><span class=n>even</span><span class=p>.</span><span class=n>pop_back</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>isodd</span><span class=p>(</span><span class=n>len</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>odd</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>len</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>%</span><span class=mi>2</span><span class=o>==</span><span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>isodd</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>                <span class=n>odd</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>sort</span><span class=p>(</span><span class=n>odd</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=n>odd</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>len</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>isodd</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>=</span><span class=n>odd</span><span class=p>.</span><span class=n>back</span><span class=p>(),</span><span class=n>odd</span><span class=p>.</span><span class=n>pop_back</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=k>auto</span> <span class=nl>x</span><span class=p>:</span><span class=n>nums</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>res</span> <span class=o>=</span> <span class=n>res</span><span class=o>*</span><span class=mi>10</span><span class=o>+</span><span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=偷学代码>偷学代码</h3><p>我前面花了一定代码量处理int转string以及string转int</p><p>直接使用&lt;string>里的to_string函数方便的多</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>largestInteger</span><span class=p>(</span><span class=kt>int</span> <span class=n>num</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>auto</span> <span class=n>s</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>to_string</span><span class=p>(</span><span class=n>num</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=kt>int</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>length</span><span class=p>());</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=kt>int</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>length</span><span class=p>());</span> <span class=n>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=n>s</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>&amp;&amp;</span> <span class=n>s</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>s</span><span class=p>[</span><span class=n>j</span><span class=p>])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>std</span><span class=o>::</span><span class=n>swap</span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>s</span><span class=p>[</span><span class=n>j</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>std</span><span class=o>::</span><span class=n>atoi</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>c_str</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>largestInteger</span><span class=p>(</span><span class=kt>int</span> <span class=n>num</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>string</span> <span class=n>str</span> <span class=o>=</span> <span class=n>to_string</span><span class=p>(</span><span class=n>num</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;</span><span class=p>(</span><span class=kt>int</span><span class=p>)</span><span class=n>str</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>j</span><span class=o>=</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span> <span class=n>j</span><span class=o>&lt;</span><span class=p>(</span><span class=kt>int</span><span class=p>)</span><span class=n>str</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=n>j</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>((</span><span class=n>str</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>^</span> <span class=n>str</span><span class=p>[</span><span class=n>j</span><span class=p>])</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>str</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>str</span><span class=p>[</span><span class=n>j</span><span class=p>])</span>
</span></span><span class=line><span class=cl>                    <span class=n>swap</span><span class=p>(</span><span class=n>str</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>str</span><span class=p>[</span><span class=n>j</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nf>stoi</span><span class=p>(</span><span class=n>str</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=atoi和stoi函数的区别>atoi和stoi函数的区别</h4><p>都是C++的字符处理函数，把数字字符串转换成int输出</p><p>头文件都是#include&lt;cstring></p><p>atoi()的参数是 const char* ,因此对于一个字符串str我们必须调用 c_str()的方法把这个string转换成 const char<em>类型的,而stoi()的参数是const string</em>,不需要转化为 const char*；</p><p>stoi()会做范围检查，默认范围是在int的范围内的，如果超出范围的话则会runtime error！而atoi()不会做范围检查，如果超出范围的话，超出上界，则输出上界，超出下界，则输出下界；</p><p>当输入的字符串不是整型，且前半部分都是数字时，stoi()与atoi()都会取前面为整型的部分。如string testFloat = &ldquo;12.34&rdquo;;时，两者输出值为12。</p><p>当输入的字符串不是整型，且前半部分不是数字时，stoi()会报错，但atoi()会输出0。</p><h2 id=暴力向表达式添加括号后的最小结果>【暴力】向表达式添加括号后的最小结果</h2><h3 id=题目-1>题目</h3><p>给你一个下标从 <strong>0</strong> 开始的字符串 <code>expression</code> ，格式为 <code>"&lt;num1>+&lt;num2>"</code> ，其中 <code>&lt;num1></code> 和 <code>&lt;num2></code> 表示正整数。</p><p>请你向 <code>expression</code> 中添加一对括号，使得在添加之后， <code>expression</code> 仍然是一个有效的数学表达式，并且计算后可以得到 <strong>最小</strong> 可能值。左括号 <strong>必须</strong> 添加在 <code>'+'</code> 的左侧，而右括号必须添加在 <code>'+'</code> 的右侧。</p><p>返回添加一对括号后形成的表达式 <code>expression</code> ，且满足 <code>expression</code> 计算得到 <strong>最小</strong> 可能值*。*如果存在多个答案都能产生相同结果，返回任意一个答案。</p><p>生成的输入满足：<code>expression</code> 的原始值和添加满足要求的任一对括号之后 <code>expression</code> 的值，都符合 32-bit 带符号整数范围。</p><p><strong>示例 1：</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>输入：expression = &#34;247+38&#34;
</span></span><span class=line><span class=cl>输出：&#34;2(47+38)&#34;
</span></span><span class=line><span class=cl>解释：表达式计算得到 2 * (47 + 38) = 2 * 85 = 170 。
</span></span><span class=line><span class=cl>注意 &#34;2(4)7+38&#34; 不是有效的结果，因为右括号必须添加在 &#39;+&#39; 的右侧。
</span></span><span class=line><span class=cl>可以证明 170 是最小可能值。
</span></span></code></pre></td></tr></table></div></div><p><strong>示例 2：</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>输入：expression = &#34;12+34&#34;
</span></span><span class=line><span class=cl>输出：&#34;1(2+3)4&#34;
</span></span><span class=line><span class=cl>解释：表达式计算得到 1 * (2 + 3) * 4 = 1 * 5 * 4 = 20 。
</span></span></code></pre></td></tr></table></div></div><p><strong>示例 3：</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>输入：expression = &#34;999+999&#34;
</span></span><span class=line><span class=cl>输出：&#34;(999+999)&#34;
</span></span><span class=line><span class=cl>解释：表达式计算得到 999 + 999 = 1998 。
</span></span></code></pre></td></tr></table></div></div><p><strong>提示：</strong></p><ul><li><code>3 &lt;= expression.length &lt;= 10</code></li><li><code>expression</code> 仅由数字 <code>'1'</code> 到 <code>'9'</code> 和 <code>'+'</code> 组成</li><li><code>expression</code> 由数字开始和结束</li><li><code>expression</code> 恰好仅含有一个 <code>'+'</code>.</li><li><code>expression</code> 的原始值和添加满足要求的任一对括号之后 <code>expression</code> 的值，都符合 32-bit 带符号整数范围</li></ul><h3 id=解题思路-1>解题思路</h3><p>一开始看到表达式的题以为是要用动态规划，想run的，后来看数据范围，这么小，暴力就好</p><h3 id=代码-1>代码</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>string</span> <span class=n>minimizeResult</span><span class=p>(</span><span class=n>string</span> <span class=n>expression</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>left</span><span class=p>,</span><span class=n>right</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>bool</span> <span class=n>flag</span> <span class=o>=</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=k>auto</span> <span class=nl>x</span><span class=p>:</span> <span class=n>expression</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>x</span><span class=o>==</span><span class=sc>&#39;+&#39;</span><span class=p>)</span> <span class=n>flag</span><span class=o>=</span><span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=n>flag</span><span class=p>)</span> <span class=n>left</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>x</span><span class=o>-</span><span class=sc>&#39;0&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=k>else</span> <span class=n>right</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>x</span><span class=o>-</span><span class=sc>&#39;0&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>        
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>lenL</span> <span class=o>=</span> <span class=n>left</span><span class=p>.</span><span class=n>size</span><span class=p>(),</span><span class=n>lenR</span><span class=o>=</span><span class=n>right</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=n>right</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>1</span><span class=o>&lt;&lt;</span><span class=mi>30</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>idxL</span><span class=p>,</span><span class=n>idxR</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>lenL</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>leftL</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span><span class=n>leftR</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>p</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>p</span><span class=o>&lt;</span><span class=n>i</span><span class=p>;</span><span class=n>p</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=n>leftL</span> <span class=o>=</span> <span class=n>leftL</span><span class=o>*</span><span class=mi>10</span> <span class=o>+</span> <span class=n>left</span><span class=p>[</span><span class=n>p</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>q</span><span class=o>=</span><span class=n>i</span><span class=p>;</span><span class=n>q</span><span class=o>&lt;</span><span class=n>lenL</span><span class=p>;</span><span class=n>q</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=n>leftR</span> <span class=o>=</span> <span class=n>leftR</span><span class=o>*</span><span class=mi>10</span> <span class=o>+</span> <span class=n>left</span><span class=p>[</span><span class=n>q</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=c1>// cout&lt;&lt;leftL&lt;&lt;&#39; &#39;&lt;&lt;leftR&lt;&lt;endl;
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>j</span><span class=o>=</span><span class=mi>1</span><span class=p>;</span><span class=n>j</span><span class=o>&lt;=</span><span class=n>lenR</span><span class=p>;</span><span class=n>j</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span> <span class=n>rightL</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span><span class=n>rightR</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>p</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>p</span><span class=o>&lt;</span><span class=n>j</span><span class=p>;</span><span class=n>p</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=n>rightL</span> <span class=o>=</span> <span class=n>rightL</span><span class=o>*</span><span class=mi>10</span> <span class=o>+</span> <span class=n>right</span><span class=p>[</span><span class=n>p</span><span class=p>];</span>
</span></span><span class=line><span class=cl>                <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>q</span><span class=o>=</span><span class=n>j</span><span class=p>;</span><span class=n>q</span><span class=o>&lt;</span><span class=n>lenR</span><span class=p>;</span><span class=n>q</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=n>rightR</span> <span class=o>=</span> <span class=n>rightR</span><span class=o>*</span><span class=mi>10</span> <span class=o>+</span> <span class=n>right</span><span class=p>[</span><span class=n>q</span><span class=p>];</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=c1>// cout&lt;&lt;rightL&lt;&lt;&#39; &#39;&lt;&lt;rightR&lt;&lt;endl;
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>if</span><span class=p>(</span><span class=n>leftL</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=n>leftL</span> <span class=o>=</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=n>rightR</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=n>rightR</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span> <span class=n>tmp</span> <span class=o>=</span> <span class=n>leftL</span><span class=o>*</span><span class=p>(</span><span class=n>leftR</span><span class=o>+</span><span class=n>rightL</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=n>tmp</span><span class=o>*=</span><span class=n>rightR</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=n>tmp</span><span class=o>&lt;</span><span class=n>res</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                    <span class=n>res</span> <span class=o>=</span> <span class=n>tmp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                    <span class=n>idxL</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                    <span class=n>idxR</span> <span class=o>=</span> <span class=n>j</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// for(auto x:left){
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>//     cout&lt;&lt;x&lt;&lt;&#39; &#39;;
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// }cout&lt;&lt;endl;
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// for(auto x:right){
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>//     cout&lt;&lt;x&lt;&lt;&#39; &#39;;
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// }
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// cout&lt;&lt;res&lt;&lt;endl&lt;&lt;idxL&lt;&lt;&#39; &#39;&lt;&lt;idxR&lt;&lt;endl;
</span></span></span><span class=line><span class=cl><span class=c1></span>        
</span></span><span class=line><span class=cl>        <span class=n>expression</span><span class=p>.</span><span class=n>insert</span><span class=p>(</span><span class=n>idxL</span><span class=p>,</span><span class=s>&#34;(&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>idxR</span> <span class=o>=</span> <span class=n>idxR</span><span class=o>+</span><span class=n>lenL</span><span class=o>+</span><span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>expression</span><span class=p>.</span><span class=n>insert</span><span class=p>(</span><span class=n>idxR</span><span class=p>,</span><span class=s>&#34;)&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>expression</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=偷学代码-1>偷学代码</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>string</span> <span class=n>minimizeResult</span><span class=p>(</span><span class=n>string</span> <span class=n>s</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>ans</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>numeric_limits</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;::</span><span class=n>max</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>x</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>find</span><span class=p>(</span><span class=sc>&#39;+&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>length</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>I</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>J</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>x</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>x</span> <span class=o>+</span> <span class=mi>2</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;=</span> <span class=n>n</span><span class=p>;</span> <span class=n>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span> <span class=n>v</span> <span class=o>=</span> <span class=p>(</span><span class=n>i</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>?</span> <span class=mi>1</span> <span class=o>:</span> <span class=n>std</span><span class=o>::</span><span class=n>atoi</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>substr</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>i</span><span class=p>).</span><span class=n>c_str</span><span class=p>()))</span> <span class=o>*</span>
</span></span><span class=line><span class=cl>                            <span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>atoi</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>substr</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>x</span> <span class=o>-</span> <span class=n>i</span><span class=p>).</span><span class=n>c_str</span><span class=p>())</span> <span class=o>+</span> <span class=n>std</span><span class=o>::</span><span class=n>atoi</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>substr</span><span class=p>(</span><span class=n>x</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>j</span> <span class=o>-</span> <span class=n>x</span> <span class=o>-</span> <span class=mi>1</span><span class=p>).</span><span class=n>c_str</span><span class=p>()))</span> <span class=o>*</span>
</span></span><span class=line><span class=cl>                               <span class=p>(</span><span class=n>j</span> <span class=o>==</span> <span class=n>n</span> <span class=o>?</span> <span class=mi>1</span> <span class=o>:</span> <span class=n>std</span><span class=o>::</span><span class=n>atoi</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>substr</span><span class=p>(</span><span class=n>j</span><span class=p>,</span> <span class=n>n</span> <span class=o>-</span> <span class=n>j</span><span class=p>).</span><span class=n>c_str</span><span class=p>()));</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=p>(</span><span class=n>v</span> <span class=o>&lt;</span> <span class=n>ans</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>ans</span> <span class=o>=</span> <span class=n>v</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                    <span class=n>I</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                    <span class=n>J</span> <span class=o>=</span> <span class=n>j</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>s</span><span class=p>.</span><span class=n>insert</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>begin</span><span class=p>()</span> <span class=o>+</span> <span class=n>J</span><span class=p>,</span> <span class=sc>&#39;)&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>s</span><span class=p>.</span><span class=n>insert</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>begin</span><span class=p>()</span> <span class=o>+</span> <span class=n>I</span><span class=p>,</span> <span class=sc>&#39;(&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>s</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=贪心k-次增加后的最大乘积>【贪心】K 次增加后的最大乘积</h2><h3 id=题目-2>题目</h3><p>给你一个非负整数数组 <code>nums</code> 和一个整数 <code>k</code> 。每次操作，你可以选择 <code>nums</code> 中 <strong>任一</strong> 元素并将它 <strong>增加</strong> <code>1</code> 。</p><p>请你返回 <strong>至多</strong> <code>k</code> 次操作后，能得到的 <code>nums</code>的 <strong>最大乘积</strong> 。由于答案可能很大，请你将答案对 <code>10^9 + 7</code> 取余后返回。</p><p><strong>示例 1：</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>输入：nums = [0,4], k = 5
</span></span><span class=line><span class=cl>输出：20
</span></span><span class=line><span class=cl>解释：将第一个数增加 5 次。
</span></span><span class=line><span class=cl>得到 nums = [5, 4] ，乘积为 5 * 4 = 20 。
</span></span><span class=line><span class=cl>可以证明 20 是能得到的最大乘积，所以我们返回 20 。
</span></span><span class=line><span class=cl>存在其他增加 nums 的方法，也能得到最大乘积。
</span></span></code></pre></td></tr></table></div></div><p><strong>示例 2：</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>输入：nums = [6,3,3,2], k = 2
</span></span><span class=line><span class=cl>输出：216
</span></span><span class=line><span class=cl>解释：将第二个数增加 1 次，将第四个数增加 1 次。
</span></span><span class=line><span class=cl>得到 nums = [6, 4, 3, 3] ，乘积为 6 * 4 * 3 * 3 = 216 。
</span></span><span class=line><span class=cl>可以证明 216 是能得到的最大乘积，所以我们返回 216 。
</span></span><span class=line><span class=cl>存在其他增加 nums 的方法，也能得到最大乘积。
</span></span></code></pre></td></tr></table></div></div><p><strong>提示：</strong></p><ul><li><code>1 &lt;= nums.length, k &lt;= 10^5</code></li><li><code>0 &lt;= nums[i] &lt;= 10^6</code></li></ul><h3 id=解题思路-2>解题思路</h3><p>一开始也以为要用动态规划，其实细想一下没那么难</p><p>考虑$a*b*c*d$，各个数加1后分别为：</p><p>$(a+1)*b*c*d=abcd+bcd$，</p><p>$a*(b+1)*c*d=abcd+acd$，</p><p>$a*b*(c+1)*d=abcd+abd$，</p><p>$a*b*c*(d+1)=abcd+abc$。</p><p>很明显，这个1加在最小的数上收益最大（这里的数都为非负数</p><p>那么，维护一个最小堆即可</p><h3 id=代码-2>代码</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>maximumProduct</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>()</span><span class=o>==</span><span class=mi>1</span><span class=p>)</span> <span class=k>return</span> <span class=n>nums</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>+</span><span class=n>k</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>priority_queue</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>,</span><span class=n>greater</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>q</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=k>auto</span> <span class=nl>x</span><span class=p>:</span><span class=n>nums</span><span class=p>)</span> <span class=n>q</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>x</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>sum</span> <span class=o>=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span><span class=p>(</span><span class=mi>1</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>sum</span><span class=o>==</span><span class=n>k</span><span class=p>)</span> <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>cur</span> <span class=o>=</span> <span class=n>q</span><span class=p>.</span><span class=n>top</span><span class=p>();</span><span class=n>q</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>diff</span> <span class=o>=</span> <span class=n>q</span><span class=p>.</span><span class=n>top</span><span class=p>()</span><span class=o>-</span><span class=n>cur</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>diff</span><span class=o>+</span><span class=n>sum</span><span class=o>+</span><span class=mi>1</span><span class=o>&lt;=</span><span class=n>k</span><span class=p>)</span> <span class=n>cur</span> <span class=o>=</span> <span class=n>cur</span> <span class=o>+</span> <span class=n>diff</span> <span class=o>+</span><span class=mi>1</span><span class=p>,</span> <span class=n>sum</span> <span class=o>+=</span> <span class=n>diff</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span> <span class=n>cur</span> <span class=o>+=</span> <span class=n>k</span><span class=o>-</span><span class=n>sum</span><span class=p>,</span> <span class=n>sum</span> <span class=o>=</span> <span class=n>k</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>q</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>cur</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=kt>long</span> <span class=kt>long</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>long</span> <span class=kt>long</span> <span class=n>mod</span> <span class=o>=</span> <span class=mf>1e9</span><span class=o>+</span><span class=mi>7</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span><span class=p>(</span><span class=n>q</span><span class=p>.</span><span class=n>size</span><span class=p>()){</span>
</span></span><span class=line><span class=cl>            <span class=n>res</span> <span class=o>=</span> <span class=n>res</span><span class=o>*</span><span class=n>q</span><span class=p>.</span><span class=n>top</span><span class=p>()</span><span class=o>%</span><span class=n>mod</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>q</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=枚举二分花园的最大总美丽值>【枚举+二分】花园的最大总美丽值</h2><h3 id=题目-3>题目</h3><p>Alice 是 <code>n</code> 个花园的园丁，她想通过种花，最大化她所有花园的总美丽值。</p><p>给你一个下标从 <strong>0</strong> 开始大小为 <code>n</code> 的整数数组 <code>flowers</code> ，其中 <code>flowers[i]</code> 是第 <code>i</code> 个花园里已经种的花的数目。已经种了的花 <strong>不能</strong> 移走。同时给你 <code>newFlowers</code> ，表示 Alice 额外可以种花的 <strong>最大数目</strong> 。同时给你的还有整数 <code>target</code> ，<code>full</code> 和 <code>partial</code> 。</p><p>如果一个花园有 <strong>至少</strong> <code>target</code> 朵花，那么这个花园称为 <strong>完善的</strong> ，花园的 <strong>总美丽值</strong> 为以下分数之 <strong>和</strong> ：</p><ul><li><strong>完善</strong> 花园数目乘以 <code>full</code>.</li><li>剩余 <strong>不完善</strong> 花园里，花的 <strong>最少数目</strong> 乘以 <code>partial</code> 。如果没有不完善花园，那么这一部分的值为 <code>0</code> 。</li></ul><p>请你返回 Alice 种最多 <code>newFlowers</code> 朵花以后，能得到的 <strong>最大</strong> 总美丽值。</p><p><strong>示例 1：</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>输入：flowers = [1,3,1,1], newFlowers = 7, target = 6, full = 12, partial = 1
</span></span><span class=line><span class=cl>输出：14
</span></span><span class=line><span class=cl>解释：Alice 可以按以下方案种花
</span></span><span class=line><span class=cl>- 在第 0 个花园种 2 朵花
</span></span><span class=line><span class=cl>- 在第 1 个花园种 3 朵花
</span></span><span class=line><span class=cl>- 在第 2 个花园种 1 朵花
</span></span><span class=line><span class=cl>- 在第 3 个花园种 1 朵花
</span></span><span class=line><span class=cl>花园里花的数目为 [3,6,2,2] 。总共种了 2 + 3 + 1 + 1 = 7 朵花。
</span></span><span class=line><span class=cl>只有 1 个花园是完善的。
</span></span><span class=line><span class=cl>不完善花园里花的最少数目是 2 。
</span></span><span class=line><span class=cl>所以总美丽值为 1 * 12 + 2 * 1 = 12 + 2 = 14 。
</span></span><span class=line><span class=cl>没有其他方案可以让花园总美丽值超过 14 。
</span></span></code></pre></td></tr></table></div></div><p><strong>示例 2：</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>输入：flowers = [2,4,5,3], newFlowers = 10, target = 5, full = 2, partial = 6
</span></span><span class=line><span class=cl>输出：30
</span></span><span class=line><span class=cl>解释：Alice 可以按以下方案种花
</span></span><span class=line><span class=cl>- 在第 0 个花园种 3 朵花
</span></span><span class=line><span class=cl>- 在第 1 个花园种 0 朵花
</span></span><span class=line><span class=cl>- 在第 2 个花园种 0 朵花
</span></span><span class=line><span class=cl>- 在第 3 个花园种 2 朵花
</span></span><span class=line><span class=cl>花园里花的数目为 [5,4,5,5] 。总共种了 3 + 0 + 0 + 2 = 5 朵花。
</span></span><span class=line><span class=cl>有 3 个花园是完善的。
</span></span><span class=line><span class=cl>不完善花园里花的最少数目为 4 。
</span></span><span class=line><span class=cl>所以总美丽值为 3 * 2 + 4 * 6 = 6 + 24 = 30 。
</span></span><span class=line><span class=cl>没有其他方案可以让花园总美丽值超过 30 。
</span></span><span class=line><span class=cl>注意，Alice可以让所有花园都变成完善的，但这样她的总美丽值反而更小。
</span></span></code></pre></td></tr></table></div></div><p><strong>提示：</strong></p><ul><li><code>1 &lt;= flowers.length &lt;= 10^5</code></li><li><code>1 &lt;= flowers[i], target &lt;= 10^5</code></li><li><code>1 &lt;= newFlowers &lt;= 10^10</code></li><li><code>1 &lt;= full, partial &lt;= 10^5</code></li></ul><p>来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/maximum-total-beauty-of-the-gardens
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p><h3 id=解题思路-3>解题思路</h3><p>一开始看题目是求最大值，再看数据范围，有想到用二分，但是想到可能有多种情况，比较麻烦。所以当时没做。</p><p>令能得到的最大总美丽值为res，完善花园数目为fullcount，剩下不完善花园中花的最少数目为leastnum，那么有</p><p>$$
res = fullcount*full+least*partial
$$</p><p>其中共有两个未知变量，考虑固定一个值后，从而更方便得到另一个值。</p><p>设开始的完善花园个数为count。</p><p>这里固定完善花园数目，即枚举完善花园数目（可知范围为[count, length]，然后要最大化least值，即剩下newFlowers数目下不完善花园中最大的最少花数目（经典的最大化最小值问题，可用二分）。</p><p>在所有的情况中，选出最大值即可。</p><h4 id=最大化最小值>最大化最小值</h4><p>总体思路是这样的，但实现起来有蛮多细节的。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl>	<span class=kt>bool</span> <span class=nf>isok</span><span class=p>(</span><span class=kt>int</span> <span class=n>C</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>flowers</span><span class=p>,</span> <span class=kt>long</span> <span class=kt>long</span> <span class=n>newFlowers</span><span class=p>,</span><span class=kt>int</span> <span class=n>target</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=k>auto</span> <span class=nl>x</span><span class=p>:</span><span class=n>flowers</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>x</span><span class=o>&gt;=</span><span class=n>target</span><span class=p>)</span> <span class=k>continue</span><span class=p>;;</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>x</span><span class=o>&gt;=</span><span class=n>C</span><span class=p>)</span> <span class=k>continue</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>need</span> <span class=o>=</span> <span class=n>C</span><span class=o>-</span><span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>newFlowers</span> <span class=o>-=</span> <span class=n>need</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>newFlowers</span><span class=o>&lt;</span><span class=mi>0</span><span class=p>)</span> <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=kt>long</span> <span class=kt>long</span> <span class=n>L</span> <span class=o>=</span> <span class=n>flowers</span><span class=p>.</span><span class=n>back</span><span class=p>(),</span> <span class=n>R</span> <span class=o>=</span> <span class=n>target</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span><span class=c1>//[]
</span></span></span><span class=line><span class=cl><span class=c1></span>       
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=p>(</span><span class=n>L</span><span class=o>&lt;=</span><span class=n>R</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    	<span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=p>(</span><span class=n>L</span><span class=o>+</span><span class=n>R</span><span class=p>)</span><span class=o>&gt;&gt;</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>isok</span><span class=p>(</span><span class=n>mid</span><span class=p>,</span><span class=n>flowers</span><span class=p>,</span><span class=n>newFlowers</span><span class=p>,</span><span class=n>target</span><span class=p>))</span> <span class=n>L</span> <span class=o>=</span> <span class=n>mid</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=n>R</span> <span class=o>=</span> <span class=n>mid</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=c1>//R 
</span></span></span></code></pre></td></tr></table></div></div><p>一开始实现的二分里的判定函数如上，isok(C,flowers,newFlowers,target)表示额外可以种花数量为newFlowers时，所有不完善花园的最少花数目为C时是否可行。</p><p>正确性应该没错，后面执行时发现了问题——超时，在isok函数里对flowers数组进行了一组遍历，消耗了O(n)时间。所以判定函数需要更换思路。</p><p>——利用前缀和。</p><p>判定思路其实也就是<strong>将不完善花园中少于C的花园中花的数目全部补充到C时，需要额外增添花的数目是否小于newFlowers</strong></p><p>所以先将flowers排序后，计算好前缀和，以方便计算。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>isok</span><span class=p>(</span><span class=kt>int</span> <span class=n>C</span><span class=p>,</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>flowers</span><span class=p>,</span><span class=kt>long</span> <span class=kt>long</span> <span class=n>newFlowers</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>idx</span> <span class=o>=</span> <span class=n>upper_bound</span><span class=p>(</span><span class=n>flowers</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=n>flowers</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span><span class=n>C</span><span class=p>,</span><span class=n>greater</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>())</span><span class=o>-</span><span class=n>flowers</span><span class=p>.</span><span class=n>begin</span><span class=p>();</span><span class=c1>//first less pos
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span><span class=p>(</span><span class=n>idx</span><span class=o>==</span><span class=n>presum</span><span class=p>.</span><span class=n>size</span><span class=p>())</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>long</span> <span class=kt>long</span> <span class=n>cur</span> <span class=o>=</span> <span class=n>presum</span><span class=p>.</span><span class=n>back</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>idx</span><span class=o>&gt;</span><span class=mi>0</span><span class=p>)</span> <span class=n>cur</span><span class=o>-=</span><span class=n>presum</span><span class=p>[</span><span class=n>idx</span><span class=o>-</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=kt>long</span> <span class=kt>long</span> <span class=n>need</span> <span class=o>=</span> <span class=n>C</span><span class=o>*</span><span class=p>(</span><span class=n>flowers</span><span class=p>.</span><span class=n>size</span><span class=p>()</span><span class=o>-</span><span class=n>idx</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>cur</span><span class=o>+</span><span class=n>newFlowers</span><span class=o>&gt;=</span><span class=n>need</span><span class=p>)</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>上述代码中presum数组为flowers数组非递增排序后的前缀和数组。</p><p>首先在flowers数组中找到第一个小于C的位置idx（upper_bound默认是找第一个大于的值，所以需要增添第4个参数），如果没找到这样的位置，即flowers数组中的值都大于C，所以满足条件，返回true；</p><p>否则的话需要计算额外补充的花的数目是否足够，即cur+newFlowers是否大于等于need。</p><h4 id=注意数据范围>注意数据范围！</h4><p>注意数据范围，int的最大值约为$2*10^9$，而题中的数据范围最大值达到了$10^5$，两项相乘是可能溢出的，所以将需要的地方都定义成long long。</p><p>特别注意：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=kt>long</span> <span class=kt>long</span> <span class=n>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>b</span><span class=p>,</span><span class=n>c</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=n>b</span><span class=o>*</span><span class=n>c</span><span class=p>;</span><span class=c1>//No!! may overflow
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>a</span> <span class=o>=</span> <span class=mi>1LL</span><span class=o>*</span><span class=n>b</span><span class=o>*</span><span class=n>c</span><span class=p>;</span><span class=c1>//Yes!
</span></span></span></code></pre></td></tr></table></div></div><h3 id=代码-3>代码</h3><p>修修改改，写的挺繁琐的。</p><p>主要代码逻辑是：</p><p>1）将flowers非递增排序并计算其前缀和数组presum，以方便二分判定。</p><p>2）计算未额为补充花时，已经完善花园的数目，并且特判，计算当全部为完善花园数目时的答案（此时就不用再枚举未完善花园中的最少花的数目）</p><p>3）接下来需要枚举新增完善花园的数目，我在这里也特判了一下，即当新增完善花园数目为0时；其余就在for循环里枚举。还有个特判是枚举到将所有花园都完善后，未完善部分就是0。</p><p>4）固定完善花园数目后，就开始二分得到未完善花园中最少花数目的最大值</p><p>5）所有情况中取最大的res</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>long</span> <span class=kt>long</span><span class=o>&gt;</span> <span class=n>presum</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>bool</span> <span class=nf>isok</span><span class=p>(</span><span class=kt>int</span> <span class=n>C</span><span class=p>,</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>flowers</span><span class=p>,</span><span class=kt>long</span> <span class=kt>long</span> <span class=n>newFlowers</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>idx</span> <span class=o>=</span> <span class=n>upper_bound</span><span class=p>(</span><span class=n>flowers</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=n>flowers</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span><span class=n>C</span><span class=p>,</span><span class=n>greater</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>())</span><span class=o>-</span><span class=n>flowers</span><span class=p>.</span><span class=n>begin</span><span class=p>();</span><span class=c1>//first less pos
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span><span class=p>(</span><span class=n>idx</span><span class=o>==</span><span class=n>presum</span><span class=p>.</span><span class=n>size</span><span class=p>())</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>long</span> <span class=kt>long</span> <span class=n>cur</span> <span class=o>=</span> <span class=n>presum</span><span class=p>.</span><span class=n>back</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>idx</span><span class=o>&gt;</span><span class=mi>0</span><span class=p>)</span> <span class=n>cur</span><span class=o>-=</span><span class=n>presum</span><span class=p>[</span><span class=n>idx</span><span class=o>-</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=kt>long</span> <span class=kt>long</span> <span class=n>need</span> <span class=o>=</span> <span class=n>C</span><span class=o>*</span><span class=p>(</span><span class=n>flowers</span><span class=p>.</span><span class=n>size</span><span class=p>()</span><span class=o>-</span><span class=n>idx</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>cur</span><span class=o>+</span><span class=n>newFlowers</span><span class=o>&gt;=</span><span class=n>need</span><span class=p>)</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kt>long</span> <span class=kt>long</span> <span class=nf>maximumBeauty</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>flowers</span><span class=p>,</span> <span class=kt>long</span> <span class=kt>long</span> <span class=n>newFlowers</span><span class=p>,</span> <span class=kt>int</span> <span class=n>target</span><span class=p>,</span> <span class=kt>int</span> <span class=n>full</span><span class=p>,</span> <span class=kt>int</span> <span class=n>partial</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>length</span> <span class=o>=</span> <span class=n>flowers</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=n>sort</span><span class=p>(</span><span class=n>flowers</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span><span class=n>flowers</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span><span class=n>greater</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>());</span><span class=c1>//descend
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>length</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>flowers</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>&gt;=</span><span class=n>target</span><span class=p>)</span> <span class=n>count</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>presum</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>flowers</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>length</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=n>presum</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>flowers</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>+</span><span class=n>presum</span><span class=p>.</span><span class=n>back</span><span class=p>());</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kt>long</span> <span class=kt>long</span> <span class=n>res</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>count</span><span class=o>==</span><span class=n>length</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>res</span> <span class=o>=</span> <span class=mi>1LL</span><span class=o>*</span><span class=n>length</span><span class=o>*</span><span class=n>full</span><span class=p>;</span><span class=c1>//all full initially
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>res</span> <span class=o>=</span> <span class=n>count</span><span class=o>*</span><span class=n>full</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>long</span> <span class=kt>long</span> <span class=n>L</span> <span class=o>=</span> <span class=n>flowers</span><span class=p>.</span><span class=n>back</span><span class=p>(),</span> <span class=n>R</span> <span class=o>=</span> <span class=n>target</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span><span class=c1>//[]
</span></span></span><span class=line><span class=cl><span class=c1></span>       
</span></span><span class=line><span class=cl>        <span class=k>while</span><span class=p>(</span><span class=n>L</span><span class=o>&lt;=</span><span class=n>R</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=p>(</span><span class=n>L</span><span class=o>+</span><span class=n>R</span><span class=p>)</span><span class=o>&gt;&gt;</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>isok</span><span class=p>(</span><span class=n>mid</span><span class=p>,</span><span class=n>flowers</span><span class=p>,</span><span class=n>newFlowers</span><span class=p>))</span> <span class=n>L</span><span class=o>=</span><span class=n>mid</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span> <span class=n>R</span><span class=o>=</span><span class=n>mid</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>res</span> <span class=o>+=</span> <span class=n>R</span><span class=o>*</span><span class=n>partial</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;=</span><span class=n>length</span><span class=o>-</span><span class=n>count</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span><span class=c1>//add new full garden
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>//enumerate the count of full garden
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kt>int</span> <span class=n>fullcount</span> <span class=o>=</span> <span class=n>count</span><span class=o>+</span><span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>need</span> <span class=o>=</span> <span class=n>target</span><span class=o>-</span><span class=n>flowers</span><span class=p>[</span><span class=n>count</span><span class=o>+</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=n>newFlowers</span> <span class=o>-=</span> <span class=n>need</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>flowers</span><span class=p>[</span><span class=n>count</span><span class=o>+</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>target</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>newFlowers</span><span class=o>&lt;</span><span class=mi>0</span><span class=p>)</span> <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>i</span><span class=o>==</span><span class=n>length</span><span class=o>-</span><span class=n>count</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=n>res</span><span class=o>=</span><span class=n>res</span><span class=o>&lt;</span><span class=mi>1LL</span><span class=o>*</span><span class=n>length</span><span class=o>*</span><span class=n>full</span><span class=o>?</span><span class=mi>1LL</span><span class=o>*</span><span class=n>length</span><span class=o>*</span><span class=nl>full</span><span class=p>:</span><span class=n>res</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=kt>long</span> <span class=kt>long</span> <span class=n>left</span><span class=o>=</span><span class=n>flowers</span><span class=p>.</span><span class=n>back</span><span class=p>(),</span><span class=n>right</span><span class=o>=</span><span class=n>target</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span><span class=p>(</span><span class=n>left</span><span class=o>&lt;=</span><span class=n>right</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span> <span class=n>mid</span><span class=o>=</span><span class=p>(</span><span class=n>left</span><span class=o>+</span><span class=n>right</span><span class=p>)</span><span class=o>&gt;&gt;</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=n>isok</span><span class=p>(</span><span class=n>mid</span><span class=p>,</span><span class=n>flowers</span><span class=p>,</span><span class=n>newFlowers</span><span class=p>))</span> <span class=n>left</span><span class=o>=</span><span class=n>mid</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=k>else</span> <span class=n>right</span><span class=o>=</span><span class=n>mid</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=kt>long</span> <span class=kt>long</span> <span class=n>cur</span> <span class=o>=</span> <span class=mi>1LL</span><span class=o>*</span><span class=n>fullcount</span><span class=o>*</span><span class=n>full</span><span class=o>+</span><span class=n>right</span><span class=o>*</span><span class=n>partial</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span><span class=n>cur</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=偷学代码-2>偷学代码</h3><p>该场比赛第1的代码，短小精炼</p><p>一开始有个预处理，即flowers数组中大于target的部分零其等于target。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>using</span> <span class=n>i64</span> <span class=o>=</span> <span class=kt>long</span> <span class=kt>long</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>long</span> <span class=kt>long</span> <span class=n>maximumBeauty</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>a</span><span class=p>,</span> <span class=kt>long</span> <span class=kt>long</span> <span class=n>k</span><span class=p>,</span> <span class=kt>int</span> <span class=n>T</span><span class=p>,</span> <span class=kt>int</span> <span class=n>F</span><span class=p>,</span> <span class=kt>int</span> <span class=n>P</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>a</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=n>std</span><span class=o>::</span><span class=n>sort</span><span class=p>(</span><span class=n>a</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>a</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>a</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>min</span><span class=p>(</span><span class=n>a</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>T</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>i64</span> <span class=n>ans</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>i64</span><span class=o>&gt;</span> <span class=n>sum</span><span class=p>(</span><span class=n>n</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>sum</span><span class=p>[</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>sum</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+</span> <span class=n>a</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>n</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>i64</span> <span class=n>K</span> <span class=o>=</span> <span class=n>k</span> <span class=o>-</span> <span class=p>(</span><span class=mi>1LL</span> <span class=o>*</span> <span class=n>T</span> <span class=o>*</span> <span class=p>(</span><span class=n>n</span> <span class=o>-</span> <span class=n>i</span><span class=p>)</span> <span class=o>-</span> <span class=p>(</span><span class=n>sum</span><span class=p>[</span><span class=n>n</span><span class=p>]</span> <span class=o>-</span> <span class=n>sum</span><span class=p>[</span><span class=n>i</span><span class=p>]));</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>K</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>while</span> <span class=p>(</span><span class=n>j</span> <span class=o>&lt;</span> <span class=n>i</span> <span class=o>&amp;&amp;</span> <span class=n>K</span> <span class=o>&gt;=</span> <span class=mi>1LL</span> <span class=o>*</span> <span class=n>a</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>*</span> <span class=n>j</span> <span class=o>-</span> <span class=n>sum</span><span class=p>[</span><span class=n>j</span><span class=p>])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>j</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=n>ans</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>max</span><span class=p>(</span><span class=n>ans</span><span class=p>,</span> <span class=mi>1LL</span> <span class=o>*</span> <span class=n>F</span> <span class=o>*</span> <span class=p>(</span><span class=n>n</span> <span class=o>-</span> <span class=n>i</span><span class=p>)</span> <span class=o>+</span> <span class=p>(</span><span class=n>j</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>?</span> <span class=mi>0LL</span> <span class=o>:</span> <span class=mi>1LL</span> <span class=o>*</span> <span class=n>P</span> <span class=o>*</span> <span class=n>std</span><span class=o>::</span><span class=n>min</span><span class=p>(</span><span class=n>T</span> <span class=o>-</span> <span class=mi>1LL</span><span class=p>,</span> <span class=p>(</span><span class=n>K</span> <span class=o>+</span> <span class=n>sum</span><span class=p>[</span><span class=n>j</span><span class=p>])</span> <span class=o>/</span> <span class=n>j</span><span class=p>)));</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>&amp;&amp;</span> <span class=n>a</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=n>T</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ans</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div></section><footer class=article-footer><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Last updated on Apr 11, 2022 13:00 UTC</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/leetcode%E7%AC%AC361%E5%9C%BA%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/><div class=article-image><img src=/p/leetcode%E7%AC%AC361%E5%9C%BA%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/20230906.ba818afa530a0d2dcda93b098c0e9e88_hu1813551299151905467.png width=250 height=150 loading=lazy alt="Featured image of post LeetCode第361场周赛总结" data-hash="md5-uoGK+lMKDS3NqTsJjA6eiA=="></div><div class=article-details><h2 class=article-title>LeetCode第361场周赛总结</h2></div></a></article><article class=has-image><a href=/p/leetcode%E7%AC%AC321%E5%9C%BA%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/><div class=article-image><img src=/p/leetcode%E7%AC%AC321%E5%9C%BA%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/post-bg-20221213.4476b44011267b1e4431877088556c0c_hu14591359692438071094.png width=250 height=150 loading=lazy alt="Featured image of post LeetCode第321场周赛总结" data-hash="md5-RHa0QBEmex5EMYdwiFVsDA=="></div><div class=article-details><h2 class=article-title>LeetCode第321场周赛总结</h2></div></a></article><article class=has-image><a href=/p/leetcode%E7%AC%AC92%E5%9C%BA%E5%8F%8C%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/><div class=article-image><img src=/p/leetcode%E7%AC%AC92%E5%9C%BA%E5%8F%8C%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/post-bg-20221208.dcdd30f2fc65b2506887fd3e5593760c_hu16862141619710116574.png width=250 height=150 loading=lazy alt="Featured image of post LeetCode第92场双周赛总结" data-hash="md5-3N0w8vxlslBoh/0+VZN2DA=="></div><div class=article-details><h2 class=article-title>LeetCode第92场双周赛总结</h2></div></a></article><article class=has-image><a href=/p/leetcode%E7%AC%AC320%E5%9C%BA%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/><div class=article-image><img src=/p/leetcode%E7%AC%AC320%E5%9C%BA%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/post-bg-20221129.e52410bc78f788842a1e862b7f11723f_hu16119173316811392517.png width=250 height=150 loading=lazy alt="Featured image of post LeetCode第320场周赛总结" data-hash="md5-5SQQvHj3iIQqHoYrfxFyPw=="></div><div class=article-details><h2 class=article-title>LeetCode第320场周赛总结</h2></div></a></article><article class=has-image><a href=/p/leetcode%E7%AC%AC318%E5%9C%BA%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/><div class=article-image><img src=/p/leetcode%E7%AC%AC318%E5%9C%BA%E5%91%A8%E8%B5%9B%E6%80%BB%E7%BB%93/post-bg-20221121.8694cdc18dfa73e0220208fe7ee9fb3f_hu4339761100721476944.png width=250 height=150 loading=lazy alt="Featured image of post LeetCode第318场周赛总结" data-hash="md5-hpTNwY36c+AiAgj+fun7Pw=="></div><div class=article-details><h2 class=article-title>LeetCode第318场周赛总结</h2></div></a></article></div></div></aside><div id=gitalk-container></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css><script src=https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js></script><script src=https://cdn.jsdelivr.net/npm/blueimp-md5@2.18.0/js/md5.min.js></script><script>const gitalk=new Gitalk({clientID:"064cc41342b9363baf88",clientSecret:"300dcc526e6287d7cd05670f2639c9fe3bd40655",repo:"gittalk_comment",owner:"TetsuOu",admin:["TetsuOu"],distractionFreeMode:!1,id:md5(location.pathname)});(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("gitalk-container").innerHTML="Gitalk comments not available by default when the website is previewed locally.";return}gitalk.render("gitalk-container")})()</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 おう てつ の blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.26.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>