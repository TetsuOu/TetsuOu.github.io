<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="区间修改、单点查询"><title>差分</title>
<link rel=canonical href=https://tetsuou.github.io/p/%E5%B7%AE%E5%88%86/><link rel=stylesheet href=/scss/style.min.0304c6baf04e01a8fe70693791cb744d56a3578a3120a8796cefc66825aa39c7.css><meta property='og:title' content="差分"><meta property='og:description' content="区间修改、单点查询"><meta property='og:url' content='https://tetsuou.github.io/p/%E5%B7%AE%E5%88%86/'><meta property='og:site_name' content='おう てつ の blog'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='差分'><meta property='article:published_time' content='2022-04-27T00:00:00+00:00'><meta property='article:modified_time' content='2022-04-27T00:00:00+00:00'><meta property='og:image' content='https://tetsuou.github.io/p/%E5%B7%AE%E5%88%86/post-bg-20220427.png'><meta name=twitter:title content="差分"><meta name=twitter:description content="区间修改、单点查询"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://tetsuou.github.io/p/%E5%B7%AE%E5%88%86/post-bg-20220427.png'><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu13739649187745961479.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🍥</span></figure><div class=site-meta><h1 class=site-name><a href=/>おう てつ の blog</a></h1><h2 class=site-description>believe it</h2></div></header><ol class=menu-social><li><a href=https://blog.csdn.net/qq_40889820 target=_blank title=csdn rel=me><!doctype html><svg t="1693758104704" class="icon" viewBox="0 0 1024 1024" p-id="1375" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M512 1024C229.2224 1024 0 794.7776.0 512S229.2224.0 512 0s512 229.2224 512 512-229.2224 512-512 512zm17.066667-413.525333c34.850133 4.352 68.778667 5.12 102.741333 2.0992 23.04-2.048 44.817067-8.362667 64.170667-21.9136 38.212267-26.794667 49.783467-85.1968 24.251733-123.050667-14.626133-21.7088-36.8128-30.344533-60.757333-35.498667-35.054933-7.543467-70.4512-5.751467-105.847467-3.413333-5.666133.3584-6.7584 3.072-7.236267 8.209067-3.072 32.682667-6.536533 65.314133-9.813333 97.962666-2.5088 24.814933-4.932267 49.629867-7.509333 75.605334zm53.4016-33.928534c1.962667-20.906667 3.6352-39.338667 5.4272-57.770666 1.553067-15.906133 3.413333-31.778133 4.727466-47.701334.3584-4.283733 1.553067-6.656 5.956267-6.382933 15.616 1.041067 31.709867.034133 46.728533 3.652267 36.488533 8.823467 48.725333 54.306133 23.3472 83.029333-15.8208 17.902933-36.7616 23.586133-59.255466 25.088-8.465067.546133-17.015467.085333-26.9312.085333zM512 434.295467c-2.184533-.648533-3.5328-1.1776-4.932267-1.4336-37.717333-6.877867-75.690667-8.328533-113.646933-2.816-20.974933 3.037867-41.0112 9.489067-57.480533 23.330133-22.9888 19.319467-21.640533 46.848 4.4032 62.0032 13.056 7.594667 28.023467 12.509867 42.5984 17.288533 14.08 4.608 28.996267 6.826667 43.144533 11.264 12.5952 3.925333 14.011733 14.318933 3.584 22.306134-3.345067 2.56-7.441067 5.085867-11.537067 5.751466-11.195733 1.826133-22.698667 4.386133-33.826133 3.566934-24.098133-1.774933-48.042667-5.461333-72.5504-8.430934-1.365333 10.615467-2.935467 23.0912-4.5568 35.9424 4.181333 1.365333 7.68 2.730667 11.264 3.618134 33.9456 8.4992 68.386133 9.608533 102.912 5.12 20.087467-2.6112 39.4752-7.901867 56.695467-19.029334 28.603733-18.4832 36.693333-57.1904-4.676267-75.383466-14.506667-6.382933-30.190933-10.410667-45.482667-15.086934-11.4176-3.4816-23.313067-5.614933-34.525866-9.5232-9.7792-3.413333-11.144533-12.202667-3.037867-18.397866 4.6592-3.549867 10.717867-6.997333 16.384-7.3728a480.853333 480.853333.0 0153.384533-.853334c15.377067.699733 30.651733 3.549867 46.4896 5.5296L512 434.295467zm257.143467 2.048L750.933333 614.2976h54.152534c4.778667-45.636267 9.710933-90.7264 14.062933-135.8848.6144-6.365867 2.3552-8.840533 8.686933-9.0112 11.434667-.273067 22.8864-1.979733 34.286934-1.570133 23.722667.853333 42.3936 9.728 38.4 43.264-2.901333 24.2688-5.597867 48.571733-8.2432 72.874666-1.092267 10.069333-1.826133 20.189867-2.730667 30.4128h55.330133c3.584-35.259733 7.9872-70.058667 10.496-104.994133 3.413333-47.4624-17.7664-73.3184-64.682666-80.213333-40.96-6.007467-81.339733-.341333-121.5488 7.133866zM285.6448 570.948267c-8.738133 1.297067-16.384 2.798933-24.098133 3.4816-25.6512 2.235733-51.319467 3.9424-76.305067-4.266667-13.909333-4.590933-24.6784-12.578133-29.7984-25.9584-7.901867-20.701867.887467-47.104 19.831467-60.3136C192.648534 471.773867 212.992 467.968 233.728 467.968c22.545067-.017067 45.090133 2.423467 68.232533 3.84L307.2 432.298667c-15.069867-1.723733-29.4912-3.925333-43.997867-4.9152-41.0112-2.798933-80.64 2.6112-117.469866 20.462933-30.020267 14.557867-52.053333 36.010667-58.6752 68.130133-7.850667 38.144 11.537067 69.495467 51.7632 85.845334 19.1488 7.765333 39.287467 12.509867 60.0064 12.5952 24.746667.1024 49.493333-1.570133 74.205866-2.952534 3.106133-.170667 8.311467-2.901333 8.669867-5.034666 1.979733-11.554133 2.730667-23.278933 3.9424-35.464534z" fill="#dd1700" p-id="1376"/></svg></a></li><li><a href=https://github.com/TetsuOu target=_blank title=GitHub rel=me><!doctype html><svg t="1693758540593" class="icon" viewBox="0 0 1024 1024" p-id="1514" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M960 512c0 97.76-28.704 185.216-85.664 263.264-56.96 78.016-130.496 131.84-220.64 161.856-10.304 1.824-18.368.448-22.848-4.032a22.4 22.4.0 01-7.2-17.504v-122.88c0-37.632-10.304-65.44-30.464-82.912a409.856 409.856.0 0059.616-10.368 222.752 222.752.0 0054.72-22.816c18.848-10.784 34.528-23.36 47.104-38.592 12.544-15.232 22.848-35.904 30.912-61.44 8.096-25.568 12.128-54.688 12.128-87.904.0-47.072-15.232-86.976-46.208-120.16 14.368-35.456 13.024-74.912-4.48-118.848-10.752-3.616-26.432-1.344-47.072 6.272s-38.56 16.16-53.824 25.568l-21.984 13.888C587.776 285.088 550.56 280.16 512 280.16s-75.776 4.928-112.096 15.232a444.48 444.48.0 00-24.672-15.68c-10.336-6.272-26.464-13.888-48.896-22.432-21.952-8.96-39.008-11.232-50.24-8.064-17.024 43.936-18.368 83.424-4.032 118.848-30.496 33.632-46.176 73.536-46.176 120.608.0 33.216 4.032 62.336 12.128 87.456 8.032 25.12 18.368 45.76 30.496 61.44 12.544 15.68 28.224 28.704 47.072 39.04 18.848 10.304 37.216 17.92 54.72 22.816a409.6 409.6.0 0059.648 10.368c-15.712 13.856-25.12 34.048-28.704 60.064a99.744 99.744.0 01-26.464 8.512 178.208 178.208.0 01-33.184 2.688c-13.024.0-25.568-4.032-38.144-12.544-12.544-8.512-23.296-20.64-32.256-36.32a97.472 97.472.0 00-28.256-30.496c-11.232-8.064-21.088-12.576-28.704-13.92l-11.648-1.792c-8.096.0-13.92.928-17.056 2.688-3.136 1.792-4.032 4.032-2.688 6.72s3.136 5.408 5.376 8.096 4.928 4.928 7.616 7.168l4.032 2.688c8.544 4.032 17.056 11.232 25.568 21.984 8.544 10.752 14.368 20.64 18.4 29.6l5.824 13.44c4.928 14.816 13.44 26.912 25.568 35.872 12.096 8.992 25.088 14.816 39.008 17.504 13.888 2.688 27.36 4.032 40.352 4.032s23.776-.448 32.288-2.24l13.472-2.24c0 14.784.0 32.288.416 52.032.0 19.744.48 30.496.48 31.392a22.624 22.624.0 01-7.648 17.472c-4.928 4.48-12.992 5.824-23.296 4.032-90.144-30.048-163.68-83.84-220.64-161.888C92.256 697.216 64 609.312 64 512c0-81.152 20.192-156.064 60.096-224.672s94.176-122.88 163.232-163.232C355.936 84.192 430.816 64 512 64s156.064 20.192 224.672 60.096 122.88 94.176 163.232 163.232C939.808 355.488 960 430.848 960 512" fill="#000" p-id="1515"/></svg></a></li><li><a href=https://leetcode.cn/u/wangzhebufangqi-c/ target=_blank title=leetcode rel=me><!doctype html><svg t="1693809783586" class="icon" viewBox="0 0 1024 1024" p-id="4061" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M1023.52385 511.966c0 163.698.0 327.396.477 491.094.0 17.052-3.888 20.94-20.94 20.872q-491.094-.819-982.188.0c-17.051.0-20.94-3.82-20.871-20.872Q.81985 511.966 85e-5 20.872c-.067-17.051 3.82-20.94 20.872-20.871q491.094.818 982.188.0c17.052.0 21.008 3.82 20.94 20.871-.477 163.698-.477 327.396-.477 491.094z" fill="#fefefe" p-id="4062"/><path d="M454.87785 321.736c-61.387 61.386-124.82 121.068-184.774 184.16-44.404 46.722-40.925 113.906 5.593 161.924 55.18 56.68 111.996 111.724 168.063 167.45 21.212 21.963 20.94 47.063 5.388 70.39-14.392 21.485-35.058 34.65-63.092 22.577a132.664 132.664.0 01-35.672-25.578c-51.77-52.315-104.767-103.47-155.99-156.4-89.898-92.83-90.921-232.451-.478-324.668 127.07-129.867 256.05-257.688 384.485-386.054 28.307-28.306 63.843-30.148 87.033-6.002s21.008 55.657-6.411 84.509q-43.176 45.426-86.692 90.443c-30.693 47.609-71.823 84.645-117.453 117.249z" fill="#070706" p-id="4063"/><path d="M677.02885 641.015h-183.614c-40.925.0-70.186-24.76-69.504-58.113.614-32.262 27.966-55.998 68.208-56.135q187.025-.886 374.05.0c39.833.0 62.342 22.031 62.683 56.476.0 35.74-23.055 57.294-64.934 57.704-62.137.545-124.547.068-186.889.068z" fill="#b4b2b1" p-id="4064"/><path d="M386.05585 928.1c60.569-7.366 79.053-37.241 57.704-92.967 63.842 33.49 110.837 26.056 162.47-25.577 26.465-26.465 52.52-53.339 79.598-79.19s57.431-26.464 81.44-2.728 23.532 54.566-1.978 81.44c-34.104 35.195-67.457 70.595-103.47 103.266-76.939 69.777-199.917 75.915-275.764 15.756z" fill="#eaa240" p-id="4065"/><path d="M454.87785 321.736a1295.942 1295.942.0 01117.453-117.249c89.693 27.829 142.349 101.152 202.372 164.926 19.575 20.871 11.663 53.747-10.777 72.777a53.338 53.338.0 01-73.869-2.183 821.627 821.627.0 01-74.414-74.278c-44.13-52.315-96.855-66.502-160.765-43.993z" fill="#eaa340" p-id="4066"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/about/><!doctype html><svg t="1693760098453" class="icon" viewBox="0 0 1024 1024" p-id="4023" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M508.312516 87.573521c-230.610238.0-418.21194 189.43956-418.21194 422.264233.0 232.82365 187.601702 422.262186 418.21194 422.262186 230.593865.0 418.212964-189.438537 418.212964-422.262186.0-232.824673-187.619099-422.264233-418.212964-422.264233zm0 812.359812c-86.142939.0-165.782767-28.653597-230.076072-77.032444 15.063067-5.842055 34.825157-13.008268 53.140291-19.542078 47.39238-17.089214 77.017094-27.961842 88.686878-35.373649 29.516244-18.786878 25.353434-90.351797 23.37436-111.843274l-.596588-6.344498-16.022928-14.137998c-1.415232-12.81691-5.073552-38.324864-12.58155-50.828642-10.101055-16.778128-25.352411-61.420885-30.379914-77.221756l-1.711991-4.869914-3.925403-3.047406c-.378623-.315178-9.565866-7.603165-9.565866-19.415189.0-11.812023 9.188266-19.132756 9.4093-19.290345l8.401344-6.220678-2.229784-10.177803c-.10847-.565888-12.094456-55.858192-12.094456-93.337805.0-98.237395 90.777493-112.940259 144.892995-112.940259 58.732659.0 128.757502 19.602454 128.757502 112.940259.0 38.327934-5.811356 94.53098-5.873778 95.096868l-.754177 9.017374 7.036253 5.497201c.407276.282433 9.582239 7.603165 9.582239 19.415189.0 11.812023-9.174963 19.10001-9.392928 19.289322l-4.178159 3.047406-1.601474 4.932336c-.156566.503467-16.180518 49.638537-30.883381 78.163197-6.503111 12.504802-10.369162 37.386492-11.968589 49.826825l-16.148795 14.262842-.596588 6.344498c-1.981121 21.491477-6.189979 93.056396 23.342638 111.843274 11.93789 7.601118 42.097794 17.089214 90.351797 31.856545 17.908882 5.528923 37.230949 11.434423 52.182476 16.460904C681.163259 868.639606 598.28876 899.933333 508.312516 899.933333zM774.501064 792.112676c-14.513552-5.77861-37.82549-13.006222-70.372767-22.997784-32.702819-9.990538-73.388451-22.491247-82.498946-28.274974-7.351432-4.774747-11.497868-40.401152-9.078773-75.462692l15.739473-13.94971.691755-6.155187c1.541099-14.135952 5.434779-37.323047 9.298783-44.7369 13.44829-26.074865 27.14422-65.754586 31.510668-78.791507 6.661723-6.40999 18.158568-20.48352 18.158568-41.469484.0-18.22099-8.638751-31.228235-15.269775-38.516222 1.636267-17.216103 5.279237-58.873876 5.279237-90.51041.0-92.206028-58.652841-145.110959-160.928203-145.110959-112.534006.0-177.062672 52.90493-177.062672 145.110959.0 31.888268 7.461949 73.420173 11.027148 91.357707-6.51846 7.446599-14.513552 20.138666-14.513552 37.668924.0 20.955264 11.466146 35.027771 18.110473 41.406039 4.681626 14.262842 20.011776 59.690474 32.076556 79.734996 3.485381 5.844102 7.334036 27.205619 8.749268 43.479257l.549515 6.407943 15.929808 14.07353c2.387373 35.06154-1.744737 70.625524-9.081843 75.462692-9.503445 6.033413-49.8872 20.545942-82.33931 32.234145-32.642444 11.749602-56.032154 20.231787-70.310346 26.578332-78.493725-71.503521-127.894855-174.924985-127.894855-289.813618.0-215.107149 173.180248-390.094556 386.04124-390.094556 212.875319.0 386.042263 174.987407 386.042263 390.094556C894.354779 620.767216 848.297814 720.985732 774.501064 792.112676z" p-id="4024"/></svg>
<span>About</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#引言>引言</a></li><li><a href=#航班预定统计>航班预定统计</a><ol><li><a href=#题目>题目</a></li><li><a href=#解题思路>解题思路</a></li><li><a href=#代码>代码</a></li></ol></li><li><a href=#拼车>拼车</a><ol><li><a href=#题目-1>题目</a></li><li><a href=#解题思路-1>解题思路</a></li><li><a href=#代码-1>代码</a></li></ol></li><li><a href=#我的日程安排表-ii>我的日程安排表 II</a><ol><li><a href=#题目-2>题目</a></li><li><a href=#解题思路-2>解题思路</a></li><li><a href=#代码-2>代码</a></li></ol></li><li><a href=#k连续位的最小翻转次数>K连续位的最小翻转次数</a><ol><li><a href=#题目-3>题目</a></li><li><a href=#解题思路-3>解题思路</a></li><li><a href=#代码-3>代码</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/%E5%B7%AE%E5%88%86/><img src=/p/%E5%B7%AE%E5%88%86/post-bg-20220427_hu6683203359452824952.png srcset="/p/%E5%B7%AE%E5%88%86/post-bg-20220427_hu6683203359452824952.png 800w, /p/%E5%B7%AE%E5%88%86/post-bg-20220427_hu2454352354684389318.png 1600w" width=800 height=565 loading=lazy alt="Featured image of post 差分"></a></div><div class=article-details><header class=article-category><a href=/categories/data-structure-and-algorithm/ style=background-color:#2a9d8f;color:#fff>data structure and algorithm</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/%E5%B7%AE%E5%88%86/>差分</a></h2><h3 class=article-subtitle>区间修改、单点查询</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Apr 27, 2022</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>5 minute read</time></div></footer></div></header><section class=article-content><h2 id=引言>引言</h2><p>差分是一种和前缀和相对的策略，可以当作是求和的逆运算
$$
\begin{equation}
b_i=
\begin{cases}
a_i-a_{i-1} , & i\in[2,n] \
a_1 , & i = 1
\end{cases}
\end{equation}
$$
简单性质：</p><p>1）计算数列各项的值。
$$
\begin{equation}
a[n] = \sum_{i=1}^{n} b[i]
\end{equation}
$$
2）计算数列的前缀和。
$$
\begin{equation}
sum_n = \sum_{i=1}^{n}a_i = \sum_{i=1}^{n}\sum_{j=1}^{i}b_j = \sum_{i=1}^{n}(n-i+1)b_i
\end{equation}
$$
用途：</p><p>维护多次对数列的一个区间加上一个数，并在最后询问某一位的数或多次询问某一位的数</p><p><img src=https://raw.githubusercontent.com/zezezeking/picturebed/main/image-20220426154415137.png loading=lazy alt=image-20220426154415137></p><p>$b_l+k$可看成[l,n]的变化量加k，这也导致了r后面也加了k，所以还要令$b_{r+1}-k$，表示[r+1,n]的变化量减k</p><h2 id=航班预定统计>航班预定统计</h2><h3 id=题目>题目</h3><p>这里有 n 个航班，它们分别从 1 到 n 进行编号。</p><p>有一份航班预订表 bookings ，表中第 i 条预订记录 bookings[i] = [firsti, lasti, seatsi] 意味着在从 firsti 到 lasti （包含 firsti 和 lasti ）的 每个航班 上预订了 seatsi 个座位。</p><p>请你返回一个长度为 n 的数组 answer，里面的元素是每个航班预定的座位总数。</p><p>示例 1：</p><p>输入：bookings = [[1,2,10],[2,3,20],[2,5,25]], n = 5
输出：[10,55,45,25,25]
解释：
航班编号 1 2 3 4 5
预订记录 1 ： 10 10
预订记录 2 ： 20 20
预订记录 3 ： 25 25 25 25
总座位数： 10 55 45 25 25
因此，answer = [10,55,45,25,25]
示例 2：</p><p>输入：bookings = [[1,2,10],[2,2,15]], n = 2
输出：[10,25]
解释：
航班编号 1 2
预订记录 1 ： 10 10
预订记录 2 ： 15
总座位数： 10 25
因此，answer = [10,25]</p><p>提示：</p><p>1 &lt;= n &lt;= 2 * 10^4</p><p>1 &lt;= bookings.length &lt;= 2 * 10^4</p><p>bookings[i].length == 3</p><p>1 &lt;= firsti &lt;= lasti &lt;= n</p><p>1 &lt;= seatsi &lt;= 10^4</p><p>来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/corporate-flight-bookings
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p><h3 id=解题思路>解题思路</h3><p>区间修改 单点查询</p><p>差分模板题</p><h3 id=代码>代码</h3><p>注意编号，题中的航班编号从1开始</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>corpFlightBookings</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>bookings</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>diff</span><span class=p>(</span><span class=n>n</span><span class=o>+</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=k>auto</span> <span class=o>&amp;</span><span class=nl>book</span><span class=p>:</span> <span class=n>bookings</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>diff</span><span class=p>[</span><span class=n>book</span><span class=p>[</span><span class=mi>0</span><span class=p>]]</span> <span class=o>+=</span> <span class=n>book</span><span class=p>[</span><span class=mi>2</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=n>diff</span><span class=p>[</span><span class=n>book</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=o>+</span><span class=mi>1</span><span class=p>]</span> <span class=o>-=</span> <span class=n>book</span><span class=p>[</span><span class=mi>2</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>now</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>res</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;=</span><span class=n>n</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>now</span> <span class=o>+=</span> <span class=n>diff</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=n>res</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>now</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>corpFlightBookings</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>bookings</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>nums</span><span class=p>(</span><span class=n>n</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=k>auto</span><span class=o>&amp;</span> <span class=nl>booking</span> <span class=p>:</span> <span class=n>bookings</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>nums</span><span class=p>[</span><span class=n>booking</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>+=</span> <span class=n>booking</span><span class=p>[</span><span class=mi>2</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>booking</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>nums</span><span class=p>[</span><span class=n>booking</span><span class=p>[</span><span class=mi>1</span><span class=p>]]</span> <span class=o>-=</span> <span class=n>booking</span><span class=p>[</span><span class=mi>2</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+=</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>nums</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=拼车>拼车</h2><h3 id=题目-1>题目</h3><p>车上最初有 capacity 个空座位。车 只能 向一个方向行驶（也就是说，不允许掉头或改变方向）</p><p>给定整数 capacity 和一个数组 trips , trip[i] = [numPassengersi, fromi, toi] 表示第 i 次旅行有 numPassengersi 乘客，接他们和放他们的位置分别是 fromi 和 toi 。这些位置是从汽车的初始位置向东的公里数。</p><p>当且仅当你可以在所有给定的行程中接送所有乘客时，返回 true，否则请返回 false。</p><p>示例 1：</p><p>输入：trips = [[2,1,5],[3,3,7]], capacity = 4
输出：false
示例 2：</p><p>输入：trips = [[2,1,5],[3,3,7]], capacity = 5
输出：true</p><p>提示：</p><p>1 &lt;= trips.length &lt;= 1000</p><p>trips[i].length == 3</p><p>1 &lt;= numPassengersi &lt;= 100</p><p>0 &lt;= fromi &lt; toi &lt;= 1000</p><p>1 &lt;= capacity &lt;= 10^5</p><p>来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/car-pooling
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p><h3 id=解题思路-1>解题思路</h3><p>区间修改 单点查询</p><p>这题和上一题有点不一样，如果同一距离有人上车也有人下车，是假设下车完再上车的，</p><p>也就是说对差分数组diff，diff[start] += k 不变，start地点开始上车， 而diff[end] -= k（不是diff[end+1]-=k），表示end地点都可下车完。</p><p>再判断每一单点距离是否超载</p><h3 id=代码-1>代码</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>bool</span> <span class=n>carPooling</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>trips</span><span class=p>,</span> <span class=kt>int</span> <span class=n>capacity</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>map</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>tab</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>far</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=k>auto</span> <span class=o>&amp;</span><span class=nl>x</span><span class=p>:</span><span class=n>trips</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>tab</span><span class=p>[</span><span class=n>x</span><span class=p>[</span><span class=mi>1</span><span class=p>]]</span><span class=o>+=</span><span class=n>x</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=n>tab</span><span class=p>[</span><span class=n>x</span><span class=p>[</span><span class=mi>2</span><span class=p>]]</span><span class=o>-=</span><span class=n>x</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=n>far</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>far</span><span class=p>,</span><span class=n>x</span><span class=p>[</span><span class=mi>2</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>cur</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;=</span><span class=n>far</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>cur</span> <span class=o>+=</span> <span class=n>tab</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>cur</span><span class=o>&gt;</span><span class=n>capacity</span><span class=p>)</span> <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=我的日程安排表-ii>我的日程安排表 II</h2><h3 id=题目-2>题目</h3><p>实现一个 MyCalendar 类来存放你的日程安排。如果要添加的时间内不会导致三重预订时，则可以存储这个新的日程安排。</p><p>MyCalendar 有一个 book(int start, int end)方法。它意味着在 start 到 end 时间内增加一个日程安排，注意，这里的时间是半开区间，即 [start, end), 实数 x 的范围为， start &lt;= x &lt; end。</p><p>当三个日程安排有一些时间上的交叉时（例如三个日程安排都在同一时间内），就会产生三重预订。</p><p>每次调用 MyCalendar.book方法时，如果可以将日程安排成功添加到日历中而不会导致三重预订，返回 true。否则，返回 false 并且不要将该日程安排添加到日历中。</p><p>请按照以下步骤调用MyCalendar 类: MyCalendar cal = new MyCalendar(); MyCalendar.book(start, end)</p><p>示例：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>MyCalendar();
</span></span><span class=line><span class=cl>MyCalendar.book(10, 20); // returns true
</span></span><span class=line><span class=cl>MyCalendar.book(50, 60); // returns true
</span></span><span class=line><span class=cl>MyCalendar.book(10, 40); // returns true
</span></span><span class=line><span class=cl>MyCalendar.book(5, 15); // returns false
</span></span><span class=line><span class=cl>MyCalendar.book(5, 10); // returns true
</span></span><span class=line><span class=cl>MyCalendar.book(25, 55); // returns true
</span></span><span class=line><span class=cl>解释： 
</span></span><span class=line><span class=cl>前两个日程安排可以添加至日历中。 第三个日程安排会导致双重预订，但可以添加至日历中。
</span></span><span class=line><span class=cl>第四个日程安排活动（5,15）不能添加至日历中，因为它会导致三重预订。
</span></span><span class=line><span class=cl>第五个日程安排（5,10）可以添加至日历中，因为它未使用已经双重预订的时间10。
</span></span><span class=line><span class=cl>第六个日程安排（25,55）可以添加至日历中，因为时间 [25,40] 将和第三个日程安排双重预订；
</span></span><span class=line><span class=cl>时间 [40,50] 将单独预订，时间 [50,55）将和第二个日程安排双重预订。
</span></span></code></pre></td></tr></table></div></div><p>提示：</p><p>每个测试用例，调用 MyCalendar.book 函数最多不超过 1000次。
调用函数 MyCalendar.book(start, end)时， start 和 end 的取值范围为 [0, 10^9]。</p><p>来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/my-calendar-ii
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p><h3 id=解题思路-2>解题思路</h3><p>区间修改 单点查询</p><p>还是可以用差分数组的思想</p><p>注意数据范围，时间的数据范围达到了10^9，如果用int保存完整的差分数组的话空间会炸</p><p>但是调用book函数最多不超过1000次。</p><p>所以可以直接用map存储差分数组，只存储改变后的值即可</p><p>diff[start]++ 表示时间start后（含）预定数会加1</p><p>diff[end]&ndash; 表示时间end后（含）预定数会减1，这样累加后只有[start, end)区间的预定数会加1</p><p>累加时只需累加到end，并且<strong>只需要在每个时间点有变化量的时候更新</strong>即可，在这个过程中判断是否出现大于两次的预定</p><h3 id=代码-2>代码</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>class</span> <span class=nc>MyCalendarTwo</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>map</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>diff</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>MyCalendarTwo</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>diff</span><span class=p>.</span><span class=n>clear</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kt>bool</span> <span class=nf>book</span><span class=p>(</span><span class=kt>int</span> <span class=n>start</span><span class=p>,</span> <span class=kt>int</span> <span class=n>end</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>diff</span><span class=p>[</span><span class=n>start</span><span class=p>]</span><span class=o>++</span><span class=p>,</span><span class=n>diff</span><span class=p>[</span><span class=n>end</span><span class=p>]</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>now</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=k>auto</span> <span class=o>&amp;</span><span class=nl>x</span><span class=p>:</span><span class=n>diff</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>x</span><span class=p>.</span><span class=n>first</span> <span class=o>&gt;=</span> <span class=n>end</span><span class=p>)</span> <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>now</span> <span class=o>+=</span> <span class=n>x</span><span class=p>.</span><span class=n>second</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>now</span> <span class=o>&gt;</span> <span class=mi>2</span><span class=p>){</span><span class=c1>//出现三重预定，复原并返回false
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=n>diff</span><span class=p>[</span><span class=n>start</span><span class=p>]</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=n>diff</span><span class=p>[</span><span class=n>end</span><span class=p>]</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * Your MyCalendarTwo object will be instantiated and called as such:
</span></span></span><span class=line><span class=cl><span class=cm> * MyCalendarTwo* obj = new MyCalendarTwo();
</span></span></span><span class=line><span class=cl><span class=cm> * bool param_1 = obj-&gt;book(start,end);
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=k连续位的最小翻转次数>K连续位的最小翻转次数</h2><h3 id=题目-3>题目</h3><p>给定一个二进制数组 nums 和一个整数 k 。</p><p>k位翻转 就是从 nums 中选择一个长度为 k 的 子数组 ，同时把子数组中的每一个 0 都改成 1 ，把子数组中的每一个 1 都改成 0 。</p><p>返回数组中不存在 0 所需的最小 k位翻转 次数。如果不可能，则返回 -1 。</p><p>子数组 是数组的 连续 部分。</p><p>示例 1：</p><p>输入：nums = [0,1,0], K = 1
输出：2
解释：先翻转 A[0]，然后翻转 A[2]。
示例 2：</p><p>输入：nums = [1,1,0], K = 2
输出：-1
解释：无论我们怎样翻转大小为 2 的子数组，我们都不能使数组变为 [1,1,1]。
示例 3：</p><p>输入：nums = [0,0,0,1,0,1,1,0], K = 3
输出：3
解释：
翻转 A[0],A[1],A[2]: A变成 [1,1,1,1,0,1,1,0]
翻转 A[4],A[5],A[6]: A变成 [1,1,1,1,1,0,0,0]
翻转 A[5],A[6],A[7]: A变成 [1,1,1,1,1,1,1,1]</p><p>提示：</p><p>1 &lt;= nums.length &lt;= 10^5
1 &lt;= k &lt;= nums.length</p><p>来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/minimum-number-of-k-consecutive-bit-flips
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p><h3 id=解题思路-3>解题思路</h3><p>首先是如何翻转，考虑贪心，每次找到第一个0的位置，以该位置为起点连续K个数进行翻转。可以举举例子，论证这样翻转是正确的。</p><p>然后就涉及到了区间修改问题，注意数据规模，显然不能用O(n)的时间进行翻转。</p><p>考虑用差分思想，进行区间修改。</p><p>假设位置i的数为0，那么需要对区间[i,i+k)的数进行翻转，如果i+k大于数组长度（边界为i+k-1==len-1）说明剩下的数不能全部翻转为1了</p><p>对区间[i,i+k）进行修改（加1即可，最后模2判断是否为0），令差分数组d[i]++, d[i+k]&ndash;，这就完成了区间修改操作</p><p>接下来需要进行单点查询操作，注意细节，因为是边修改边查询</p><p>注意区间更新后，变化量也要及时更新</p><h3 id=代码-3>代码</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>MAXN</span> <span class=o>=</span> <span class=mf>1e5</span><span class=o>+</span><span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>minKBitFlips</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>len</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span><span class=n>now</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>diff</span><span class=p>(</span><span class=n>len</span><span class=o>+</span><span class=mi>5</span><span class=p>,</span><span class=mi>0</span><span class=p>);</span><span class=c1>//差分数组
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>len</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>now</span> <span class=o>+=</span> <span class=n>diff</span><span class=p>[</span><span class=n>i</span><span class=p>];</span><span class=c1>//累加变化量
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>// cout&lt;&lt;&#34;i: &#34;&lt;&lt;i&lt;&lt;&#34; a[i]: &#34;&lt;&lt;(nums[i]+now)%2&lt;&lt;endl;
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>if</span><span class=p>((</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+</span> <span class=n>now</span><span class=p>)</span><span class=o>%</span><span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span> <span class=n>r</span> <span class=o>=</span> <span class=n>i</span><span class=o>+</span><span class=n>k</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=n>r</span><span class=o>&gt;</span><span class=n>len</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                    <span class=n>res</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                    <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=n>diff</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=n>diff</span><span class=p>[</span><span class=n>r</span><span class=p>]</span><span class=o>--</span><span class=p>;</span><span class=c1>//[i,r) +1
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=n>now</span><span class=o>++</span><span class=p>;</span><span class=c1>//i处的变化量发生变化了，记得加上新的变化
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=n>res</span> <span class=o>++</span><span class=p>;</span><span class=c1>//翻转次数加1
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>or：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>MAXN</span> <span class=o>=</span> <span class=mf>1e5</span><span class=o>+</span><span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>minKBitFlips</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>len</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span><span class=n>now</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>diff</span><span class=p>(</span><span class=n>len</span><span class=o>+</span><span class=mi>5</span><span class=p>,</span><span class=mi>0</span><span class=p>);</span><span class=c1>//差分数组
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>len</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>now</span> <span class=o>+=</span> <span class=n>diff</span><span class=p>[</span><span class=n>i</span><span class=p>];</span><span class=c1>//累加变化量
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>// cout&lt;&lt;&#34;i: &#34;&lt;&lt;i&lt;&lt;&#34; a[i]: &#34;&lt;&lt;(nums[i]+now)%2&lt;&lt;endl;
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>if</span><span class=p>((</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+</span> <span class=n>now</span><span class=p>)</span><span class=o>%</span><span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span> <span class=n>r</span> <span class=o>=</span> <span class=n>i</span><span class=o>+</span><span class=n>k</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=n>r</span><span class=o>&gt;</span><span class=n>len</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                    <span class=n>res</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                    <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=n>diff</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>]</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=n>diff</span><span class=p>[</span><span class=n>r</span><span class=p>]</span><span class=o>--</span><span class=p>;</span><span class=c1>//[i+1,r) +1，默认i处已翻转完成
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=n>res</span> <span class=o>++</span><span class=p>;</span><span class=c1>//翻转次数加1
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div></section><footer class=article-footer><section class=article-tags><a href=/tags/%E5%B7%AE%E5%88%86/>差分</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Last updated on Apr 27, 2022 00:00 UTC</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/%E5%8E%9F%E5%9C%B0%E5%93%88%E5%B8%8C/><div class=article-image><img src=/p/%E5%8E%9F%E5%9C%B0%E5%93%88%E5%B8%8C/post-bg-20220820.7b52e0aa66eede872b71ebf1fcd3f4ff_hu13933494795556553940.png width=250 height=150 loading=lazy alt="Featured image of post 原地哈希" data-hash="md5-e1Lgqmbu3ocrcevx/NP0/w=="></div><div class=article-details><h2 class=article-title>原地哈希</h2></div></a></article><article class=has-image><a href=/p/%E6%95%B0%E4%BD%8Ddp/><div class=article-image><img src=/p/%E6%95%B0%E4%BD%8Ddp/post-bg-20220819.7e52d50b52a69c818f98c5aa750ce518_hu257111688373324990.png width=250 height=150 loading=lazy alt="Featured image of post 数位DP" data-hash="md5-flLVC1KmnIGPmMWqdQzlGA=="></div><div class=article-details><h2 class=article-title>数位DP</h2></div></a></article><article class=has-image><a href=/p/%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8D/><div class=article-image><img src=/p/%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8D/post-bg-20220604.18a34e094a8fb7d39c9eb4d5034e786a_hu733522233143335931.png width=250 height=150 loading=lazy alt="Featured image of post 打家劫舍" data-hash="md5-GKNOCUqPt9OcnrTVA054ag=="></div><div class=article-details><h2 class=article-title>打家劫舍</h2></div></a></article><article class=has-image><a href=/p/%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8/><div class=article-image><img src=/p/%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8/post-bg-20220519.0d0b982c5bc02aea59eb4e6dd933235f_hu3518443348028639403.png width=250 height=150 loading=lazy alt="Featured image of post 买卖股票" data-hash="md5-DQuYLFvAKupZ605t2TMjXw=="></div><div class=article-details><h2 class=article-title>买卖股票</h2></div></a></article><article class=has-image><a href=/p/%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85/><div class=article-image><img src=/p/%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85/post-bg-20220513.a59343c5e4be3764559feefb2f12ec91_hu6176333446762726131.png width=250 height=150 loading=lazy alt="Featured image of post 完全背包" data-hash="md5-pZNDxeS+N2RVn+77LxLskQ=="></div><div class=article-details><h2 class=article-title>完全背包</h2></div></a></article></div></div></aside><div id=gitalk-container></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css><script src=https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js></script><script src=https://cdn.jsdelivr.net/npm/blueimp-md5@2.18.0/js/md5.min.js></script><script>const gitalk=new Gitalk({clientID:"064cc41342b9363baf88",clientSecret:"300dcc526e6287d7cd05670f2639c9fe3bd40655",repo:"gittalk_comment",owner:"TetsuOu",admin:["TetsuOu"],distractionFreeMode:!1,id:md5(location.pathname)});(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("gitalk-container").innerHTML="Gitalk comments not available by default when the website is previewed locally.";return}gitalk.render("gitalk-container")})()</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 おう てつ の blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.26.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>